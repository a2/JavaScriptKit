<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JSScript Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/JSScript" class="dashAnchor"></a>
    <a title="JSScript Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">JavaScriptKit Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/alexaubry/JavaScriptKit"><img src="../img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://https%3A%2F%2Falexaubry%2Egithub%2Eio%2Fdocsets%2FJavaScriptKit%2Exml"><img src="../img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">JavaScriptKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        JSScript Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/JSFunction.html">JSFunction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSScript.html">JSScript</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/JSVariable.html">JSVariable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/JSDecodingStrategy.html">JSDecodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/JSErrorDomain.html">JSErrorDomain</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/JSExpression.html">JSExpression</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/JSVoid.html">JSVoid</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>JSScript</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">JSScript</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt"><a href="../Protocols/JSExpression.html">JSExpression</a></span> <span class="k">where</span> <span class="kt">T</span><span class="p">:</span> <span class="kt">Decodable</span></code></pre>

                </div>
              </div>
            <p>A JavaScript expression that executes a user-defined script. This class allows you to
evaluate your own custom scripts.</p>

<p>For instance, to return the text of the longest <p> node in the current document:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">javaScript</span> <span class="o">=</span> <span class="s">"""
var longestInnerHTML = "";
var pTags = document.getElementsByTagName("</span><span class="n">p</span><span class="s">");

for (var i = 0; i &lt; pTags.length; i++) {
    var innerHTML = pTags[i].innerHTML;

    if (innerHTML.length &gt; longestInnerHTML.length) {
        longestInnerHTML = innerHTML;
    }
}

longestInnerHTML;
"""</span>

<span class="k">let</span> <span class="nv">findLongestText</span> <span class="o">=</span> <span class="kt">JSScript</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span><span class="n">javaScript</span><span class="p">)</span>
<span class="c1">// this is equivalent to running the script inside a browser's JavaScript console.</span>
</code></pre>

<p>Instances of this class are specialized with the <code>T</code> generic parameter. It must be set to the
type of the last statement in your script. In the above example, <code>findLongestText</code> has a return
type of <code>String</code> because its last statement is a String (<code>longestInnerHTML</code>).</p>

<p><code>T</code> must be a <code>Decodable</code> type. This includes:</p>

<ul>
<li><code><a href="../Structs/JSVoid.html">JSVoid</a></code> for scripts that do not return a value</li>
<li>Primitive values (Strings, Numbers, Booleans, &hellip;)</li>
<li>Decodable enumerations</li>
<li>Objects decodable from JSON</li>
<li>Arrays of primitive values</li>
<li>Arrays of enumeration cases</li>
<li>Arrays of objects</li>
<li>Native dictionaries</li>
</ul>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13JavaScriptKit8JSScriptC04javaB6StringSSv"></a>
                    <a name="//apple_ref/swift/Property/javaScriptString" class="dashAnchor"></a>
                    <a class="token" href="#/s:13JavaScriptKit8JSScriptC04javaB6StringSSv">javaScriptString</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The text of the script to execute.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">javaScriptString</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/alexaubry/JavaScriptKit/tree/master/Sources/Expressions/JSScript.swift#L54">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13JavaScriptKit8JSScriptCACyxGSScfc"></a>
                    <a name="//apple_ref/swift/Method/init(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13JavaScriptKit8JSScriptCACyxGSScfc">init(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a new custom script description with the script to execute.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">javaScriptString</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>javaScriptString</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The script to run when evaluating this expression. It will
be ran without modifications, so make sure to check for syntax errors and escape strings if
necessary before creating the expression.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/alexaubry/JavaScriptKit/tree/master/Sources/Expressions/JSScript.swift#L64-L66">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13JavaScriptKit8JSScriptC20makeExpressionStringSSyF"></a>
                    <a name="//apple_ref/swift/Method/makeExpressionString()" class="dashAnchor"></a>
                    <a class="token" href="#/s:13JavaScriptKit8JSScriptC20makeExpressionStringSSyF">makeExpressionString()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates the JavaScript text of the expression.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">makeExpressionString</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/alexaubry/JavaScriptKit/tree/master/Sources/Expressions/JSScript.swift#L69-L71">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>Copyright © 2017 Alexis Aubry. Available under the MIT License.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
